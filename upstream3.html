<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Overlay · typewriter</title>

<!-- Poppins -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">

<style>
  :root{
    /* KOLAY AYARLAR */
    --font: 500 18px/1.35 "Poppins", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    --color: rgba(255,255,255,.98);
    --shadow: 0 6px 28px rgba(0,0,0,.55);   /* sadece okunurluk için */
    --pad-x: 0;                              /* bant yok; 0 bırak */
    --pad-y: 0;
    --pre-blink: 1200ms;    /* yazı başlamadan önce sadece imleç */
    --type-speed: 42ms;     /* ms/harf */
    --hold-typed: 4000ms;   /* yazı tamamlandıktan sonra ekranda kalma süresi (artırıldı) */
    --end-blink: 1000ms;    /* silmeden önce imleç blink süresi */
    --gap-next: 2000ms;     /* yazı silindikten sonra boş bekleme süresi (artırıldı) */
  }

  html, body { height: 100%; margin: 0; background: transparent; overflow: hidden; }

  /* Sağ-alt köşe */
  .dock-br{
    position: fixed; right: 22px; bottom: 22px;
    pointer-events: none; filter: drop-shadow(var(--shadow));
  }

  /* Tek satır metin (bant yok) */
  .line{
    font: var(--font);
    color: var(--color);
    padding: var(--pad-y) var(--pad-x);
    white-space: nowrap; text-align: right;
    /* çok uzun olursa nazikçe sağ kenarda erisin */
    position: relative; overflow: hidden; max-width: min(64vw, 780px);
  }
  .line::after{
    content:""; position:absolute; right:0; top:0; bottom:0; width:26px;
    background: linear-gradient(to right, transparent, rgba(0,0,0,.18));
    pointer-events:none;
  }

  /* İmleç “|” */
  .cursor{
    display:inline-block; width:.09em; height:1em; margin-left:.12em;
    background: var(--color);
    transform: translateY(.12em);
    animation: blink 1s steps(1,end) infinite;
  }
  @keyframes blink{ 50%{opacity:0} }

  /* yumuşak çıkış */
  .fade-out{ animation: fadeOut 420ms ease forwards; }
  @keyframes fadeOut{ to{ opacity:0; transform: translateY(2px) } }
</style>
</head>
<body>
  <div class="dock-br">
    <span id="text" class="line"></span><span id="cur" class="cursor" aria-hidden="true"></span>
  </div>

<script>
/* ——— kısa, doğal, kurallara uygun ifadeler ——— */
const phrases = [
  "Feeling good? Drop a hello in the chat.",
  "Enjoying the music? A like would be lovely.",
  "Glad you're here — chat is open.",
  "If the view feels nice, a ❤️ is welcome.",
  "Lean back and share a thought in chat.",
  "Relax — a small like helps spread the calm.",
  "Where are you watching from? Type it in.",
  "Does the sound feel right? One word in chat is enough.",
];

/* ——— zaman yardımcıları ——— */
const getMs = v => parseInt(String(v).replace(/[^0-9]/g,''))||0;
const css = getComputedStyle(document.documentElement);
const PRE_BLINK = getMs(css.getPropertyValue('--pre-blink'));
const TYPE = getMs(css.getPropertyValue('--type-speed'));
const HOLD = getMs(css.getPropertyValue('--hold-typed'));
const END_BLINK = getMs(css.getPropertyValue('--end-blink'));
const GAP = getMs(css.getPropertyValue('--gap-next'));

const el = document.getElementById('text');
const cur = document.getElementById('cur');

const wait = ms => new Promise(r=>setTimeout(r,ms));

async function cycle(){
  let i = 0;
  while(true){
    const s = phrases[i % phrases.length];

    // 1) sadece imleç blink
    el.textContent = "";
    cur.style.display = "inline-block";
    await wait(PRE_BLINK);

    // 2) yazıyı harf harf yaz
    for(let j=1; j<=s.length; j++){
      el.textContent = s.slice(0,j);
      await wait(TYPE);
    }

    // 3) yazı tamamlandıktan sonra bekle
    await wait(HOLD);

    // 4) bitişte imleç blink + yumuşak çıkış
    cur.style.display = "inline-block";
    await wait(END_BLINK);
    el.classList.add('fade-out');
    await wait(420);
    el.classList.remove('fade-out');
    el.textContent = "";
    cur.style.display = "inline-block";

    // 5) sonraki cümleye geç
    await wait(GAP);
    i++;
  }
}

cycle();
</script>
</body>
</html>
